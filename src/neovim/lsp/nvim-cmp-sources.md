# nvim-cmp source(s)

é•·ã‹ã£ãŸã‚ˆã†ãª...ã€çŸ­ã‹ã£ãŸã‚ˆã†ãª...ã€‚

ã¤ã„ã«ã“ã®ãƒ¡ãƒ‰ãƒ¬ãƒ¼ã‚‚ãƒ•ã‚£ãƒŠãƒ¼ãƒ¬ã®æ™‚â—

```admonish success title=""
Oh yeah, alright

Are you going to be in my dreams

ã‚ãƒ¼ãã†ã ã­ã€ã„ã„ã‚ˆ

ãã¿ã¯åƒ•ã®å¤¢ã«å‡ºã¦ãã‚‹ã‚“ã ã‚
```

```admonish success title=""
Tonight? {{footnote:
Ringo ã¯ã€Œã‚½ãƒ­ã‚’é¢ç™½ã„ã¨æ€ã£ãŸã“ã¨ã¯ä¸€åº¦ã‚‚ãªã„ã€ã¨èªã‚‹ãªã©ã€ãƒ‰ãƒ©ãƒ ã‚½ãƒ­ã‚’å«Œã£ã¦ã„ã¦æ‹’å¦ã—ãŸãŒã€
ã€ŒMartin ã«èª¬å¾—ã•ã‚ŒãŸã€‚åƒ•ãŒå©ã„ã¦ã„ã‚‹é–“ã€å½¼ãŒãšã£ã¨æ•°ã‚’æ•°ãˆã¦ã„ãŸã€‚æ™‚é–“ã‚’ç¨¼ãŒãªãã¡ã‚ƒãªã‚‰ãªã‹ã£ãŸã‚“ã ã€‚
ãªã®ã«é•·ã•ãŒ 13 å°ç¯€ã ã£ãŸã‹ã‚‰ã€åƒ•ã¯å¦™ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§åˆ‡ã‚Šä¸Šã’ã‚‹ã“ã¨ã«ãªã£ãŸã€‚
ã¨ã«ã‹ãåƒ•ã¯ã‚½ãƒ­ã‚’å©ã„ãŸã—ã€ã“ã‚Œã¯ã‚ãã¾ã§ç‰¹ä¾‹ã ã€‚ã‚„ã‚Šçµ‚ãˆãŸä»Šã¯æº€è¶³ã—ã¦ã‚‹ã‘ã©ã­ã€ã¨èªã£ã¦ã„ã‚‹ã€‚
}}

ä»Šå¤œï¼Ÿ
```

## source for...

é§†ã‘æŠœã‘ã‚â—ä¸€æ°—ã«ğŸ˜†

```admonish success title=""
Love you, love you {{footnote:

Paulã€Georgeã€John ã¯3ã¤ã®2å°ç¯€ã®ã‚®ã‚¿ãƒ¼ãƒ»ã‚½ãƒ­ã‚’æŒã¡å›ã‚Šã§æ¼”å¥ã—ã¦ã„ã‚‹ã€‚
ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ä¸Šã«ã‚®ã‚¿ãƒ¼ãƒ»ã‚¤ãƒ³ã‚¹ãƒˆã‚¥ãƒ«ãƒ¡ãƒ³ã‚¿ãƒ«ã‚’ç½®ãã¨ã„ã†ã‚¢ã‚¤ãƒ‡ã‚¢ã¯ George ã®ã‚‚ã®ã§ã€
John ã¯3äººãŒãã‚Œãã‚Œã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ¼”å¥ã™ã‚‹ã“ã¨ã‚’ææ¡ˆã—ãŸã€‚

The Beatles ã®ãƒ¬ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã€Geoff Emerick ã¯å¾Œã«ã“ã†å›æƒ³ã—ã¦ã„ã‚‹:
ã€ŒJohnã€Paulã€George ã®3äººã¯ã€ã¾ã‚‹ã§ã‚¿ã‚¤ãƒ ã‚¹ãƒªãƒƒãƒ—ã—ã¦å°‘å¹´ã«æˆ»ã£ãŸã‹ã®ã‚ˆã†ã«ç´”ç²‹ã«æ¥½ã—ã‚“ã§ä¸€ç·’ã«æ¼”å¥ã—ã¦ã„ãŸã€‚
ä½•ã‚ˆã‚Šã‚‚ã€ã‚®ã‚¿ãƒ¼ã‚’æ§‹ãˆã€é™ºã—ã„ç›®ã¤ãã§æ±ºæ„ã‚’å›ºã‚ã€äº’ã„ã‚’æ‰“ã¡è² ã‹ãã†ã¨ã™ã‚‹å§¿ã¯ã‚¬ãƒ³ãƒãƒ³ãŸã¡ã‚’æ€ã‚ã›ãŸã€‚
ã—ã‹ã—ã€æ•µæ„ã‚„ç·Šå¼µæ„Ÿã¯ã¾ã£ãŸããªãã€ãŸã æ¥½ã—ã‚“ã§ã„ã‚‹ã®ãŒä¼ã‚ã£ã¦ããŸã€ã€‚
}}

Love you, love you...
```

### cmp-buffer

```admonish info title="[cmp-buffer](https://github.com/hrsh7th/cmp-buffer)"
nvim-cmp source for buffer words.

ãƒãƒƒãƒ•ã‚¡å†…å˜èªã® nvim-cmp ã‚½ãƒ¼ã‚¹ã€‚
```

~~~admonish example title="extensions/init.lua"
```diff
use {
  'hrsh7th/nvim-cmp',
  config = function() require 'extensions.nvim-cmp' end,
  requires = {
    'hrsh7th/cmp-nvim-lsp',
+   'hrsh7th/cmp-buffer',

    (ä¸­ç•¥)
  }
}
```
~~~

~~~admonish example title="extensions/nvim-cmp.lua"
```diff
  sources = cmp.config.sources {
    { name = 'nvim_lsp' },
    { name = 'luasnip' },
    { name = 'copilot' },
+   { name = 'buffer' },
  },
```
~~~

|||
|:---:|:---:|
|**before**|![cmp-buffer-before](img/cmp-buffer-before.webp)|
|**after**|![cmp-buffer-after](img/cmp-buffer-after.webp)|

~~~admonish example title="extensions/nvim-cmp.lua"
```diff
cmp.setup {

  (ä¸­ç•¥)

}

+cmp.setup.cmdline({ '/', '?' }, {
+  sources = cmp.config.sources {
+    {
+      name = 'buffer',
+      option = {
+        keyword_pattern = [[\k\+]],
+      },
+    },
+  },
+})
```
~~~

```admonish info title="[keyword_pattern (type: string)](https://github.com/hrsh7th/cmp-buffer#keyword_pattern-type-string)"
_Default:_ `[[\%(-\?\d\+\%(\.\d\+\)\?\|\h\w*\%([\-.]\w*\)*\)]]`

A vim's regular expression for creating a word list from buffer content.

ãƒãƒƒãƒ•ã‚¡ã®å†…å®¹ã‹ã‚‰å˜èªãƒªã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹ãŸã‚ã®vimã®æ­£è¦è¡¨ç¾ã€‚

You can set this to `[[\k\+]]` if you want to use the `iskeyword` option for recognizing words.
Lua's `[[ ]]` string literals are particularly useful here to avoid escaping all of the backslash
(`\`) characters used for writing regular expressions.

`iskeyword`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦å˜èªã‚’èªè­˜ã—ãŸã„å ´åˆã¯ã€ã“ã‚Œã‚’`[[\k\+]]`ã«è¨­å®šã—ã¾ã™ã€‚
Luaã®`[[ ]]`æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã¯ã€æ­£è¦è¡¨ç¾ã®è¨˜è¿°ã«ä½¿ç”¨ã•ã‚Œã‚‹ãƒãƒƒã‚¯ã‚¹ãƒ©ãƒƒã‚·ãƒ¥(`\`) ã®ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚’å›é¿ã™ã‚‹ãŸã‚ã«ç‰¹ã«æœ‰ç”¨ã§ã™ã€‚
```

|||
|:---:|:---:|
|**before**|![cmp-buffer-find-before](img/cmp-buffer-find-before.webp)|
|**after**|![cmp-buffer-find-after](img/cmp-buffer-find-after.webp)|

### cmp-cmdline

```admonish info title="[cmp-cmdline](https://github.com/hrsh7th/cmp-cmdline)"
nvim-cmp source for vim's cmdline.

vim ã® cmdline ç”¨ nvim-cmp ã‚½ãƒ¼ã‚¹ã€‚
```

~~~admonish example title="extensions/init.lua"
```diff
use {
  'hrsh7th/nvim-cmp',
  config = function() require 'extensions.nvim-cmp' end,
  requires = {
    'hrsh7th/cmp-nvim-lsp', 'hrsh7th/cmp-buffer',
+   'hrsh7th/cmp-cmdline',

    (ä¸­ç•¥)
  }
}
```
~~~

~~~admonish example title="extensions/nvim-cmp.lua"
```diff
+cmp.setup.cmdline(':', {
+  mapping = cmp.mapping.preset.cmdline(),
+  sources = cmp.config.sources {
+    { name = 'cmdline' },
+  },
+})

cmp.setup.cmdline({ '/', '?' }, {
+ mapping = cmp.mapping.preset.cmdline(),
  sources = cmp.config.sources {
    {
      name = 'buffer',
      option = {
        keyword_pattern = [[\k\+]],
      },
    },
  },
})
```
~~~

|||
|:---:|:---:|
|**before**|![cmp-cmdline-before](img/cmp-cmdline-before.webp)|
|**after**|![cmp-cmdline-after](img/cmp-cmdline-after.webp)|

### cmp-path

```admonish info title="[cmp-path](https://github.com/hrsh7th/cmp-path)"
nvim-cmp source for filesystem paths.

ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ãƒ‘ã‚¹ç”¨ã® nvim-cmp ã‚½ãƒ¼ã‚¹ã€‚
```

~~~admonish example title="extensions/init.lua"
```diff
use {
  'hrsh7th/nvim-cmp',
  config = function() require 'extensions.nvim-cmp' end,
  requires = {
    'hrsh7th/cmp-nvim-lsp', 'hrsh7th/cmp-buffer', 'hrsh7th/cmp-cmdline',
+   'hrsh7th/cmp-path',

    (ä¸­ç•¥)
  }
}
```
~~~

~~~admonish example title="extensions/nvim-cmp.lua"
```diff
cmp.setup {

  (ä¸­ç•¥)

  sources = cmp.config.sources {
    { name = 'nvim_lsp' },
    { name = 'luasnip' },
    { name = 'copilot' },
    { name = 'buffer' },
+   { name = 'path' },
  },

  (ä¸­ç•¥)
}

cmp.setup.cmdline(':', {
  sources = cmp.config.sources {
    { name = 'cmdline' },
+   { name = 'path' },
  },
})
```
~~~

![cmp-path](img/cmp-path.webp)

## lspkind.nvim

```admonish info title="[lspkind-nvim](https://github.com/onsails/lspkind.nvim)"
This tiny plugin adds vscode-like pictograms to neovim built-in lsp:

ã“ã®å°ã•ãªãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã€neovim ã®å†…è”µ lsp ã« vscode ã®ã‚ˆã†ãªçµµæ–‡å­—ã‚’è¿½åŠ ã—ã¾ã™ï¼š
```

~~~admonish example title="extensions/init.lua"
```diff
use {
  'hrsh7th/nvim-cmp',
  config = function() require 'extensions.nvim-cmp' end,
  requires = {
    'hrsh7th/cmp-nvim-lsp', 'hrsh7th/cmp-buffer', 'hrsh7th/cmp-path', 'hrsh7th/cmp-cmdline',
+   'onsails/lspkind-nvim',

    (ä¸­ç•¥)
  }
}
```
~~~

~~~admonish example title="extensions/nvim-cmp.lua"
```lua
cmp.setup {

  -- (ä¸­ç•¥)

  formatting = {
    format = require('lspkind').cmp_format {
      mode = 'symbol',
      preset = 'codicons',
    },
  },
}
```
~~~

```admonish info title="[Highlighting & icon](https://github.com/zbirenbaum/copilot-cmp#highlighting--icon) (copilot-cmp)"
Copilot's cmp source now has a builtin highlight group `CmpItemKindCopilot`.
To add an icon to copilot for lspkind, simply add copilot to your lspkind symbol map.

Copilot ã® cmp ã‚½ãƒ¼ã‚¹ã«ã€çµ„ã¿è¾¼ã¿ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚°ãƒ«ãƒ¼ãƒ—`CmpItemKindCopilot`ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚
lspkind ã® copilot ã«ã‚¢ã‚¤ã‚³ãƒ³ã‚’è¿½åŠ ã™ã‚‹ã«ã¯ã€lspkind ã®ã‚·ãƒ³ãƒœãƒ«ãƒãƒƒãƒ—ã« copilot ã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚

Alternatively, you can add Copilot to the lspkind `symbol_map` within the cmp format function.

ã¾ãŸã¯ã€cmp ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆé–¢æ•°å†…ã§ lspkind `symbol_map`ã« Copilot ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚
```

~~~admonish example title="extensions/nvim-cmp.lua"
```diff
cmp.setup {

  -- (ä¸­ç•¥)

  formatting = {
    format = require('lspkind').cmp_format {
      mode = 'symbol',
      preset = 'codicons',
+      symbol_map = { Copilot = 'ï„“' },
    },
  },
}
```
~~~

|||
|:---:|:---:|
|**before**|![lspkind-before](img/lspkind-before.webp)|
|**after**|![lspkind-after](img/lspkind-after.webp)|

```admonish note title="(Plus: cmp-path)"
![lspkind-path-after](img/lspkind-path-after.webp)
```

```admonish note title="(Plus: cmp-cmdline)"
![lspkind-cmdline-after](img/lspkind-cmdline-after.webp)
```

## The End

```admonish success title=""
And in the end{{footnote: The End (by [The Beatles](https://en.wikipedia.org/wiki/The_Beatles)):
Paul McCartney ãŒä½œæ›²ã—ã€Lennon-McCartney ã¨ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã•ã‚Œã¦ã„ã‚‹ã€‚
4äººã®ãƒ“ãƒ¼ãƒˆãƒ«ã‚ºã«ã‚ˆã£ã¦ãƒ¬ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã•ã‚ŒãŸæœ€å¾Œã®æ›²ã§ã‚ã‚Šã€ã‚¢ãƒ«ãƒãƒ ã® Side-two ã®å¤§éƒ¨åˆ†ã‚’å ã‚ã‚‹ãƒ¡ãƒ‰ãƒ¬ãƒ¼ã®æœ€å¾Œã®æ›²ã§ã‚ã‚‹ã€‚
Ringo Starr ãŒéŒ²éŸ³ã—ãŸæ•°å°‘ãªã„ãƒ‰ãƒ©ãƒ ãƒ»ã‚½ãƒ­ã‚’ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ã—ã¦ã„ã‚‹ã€‚
}}

çµå±€ã®ã¨ã“ã‚
```

```admonish success
The love you take

Is equal to the love you make {{footnote:
McCartney ã¯ã€ã€Œãƒ¡ãƒ‰ãƒ¬ãƒ¼ã‚’ã¡ã‚‡ã£ã¨æ„å‘³ã®ã‚ã‚‹é€£å¥ã§ç· ã‚ãŸã‹ã£ãŸã‹ã‚‰ã€Shakespeare ã‚’è¿½æ±‚ã—ã¦æ›¸ã„ãŸã€ã¨ã‚³ãƒ¡ãƒ³ãƒˆã—ã¦ã„ã‚‹ã€‚
ã€Œè¦‹ã‚ã€Paul ã ã£ã¦æ›¸ã“ã†ã¨æ€ãˆã°ã“ã†ã„ã†å“²å­¦çš„ãªæ­Œè©ãŒæ›¸ã‘ã‚‹ã‚“ã ã€ã¨ Lennon ã¯çš®è‚‰æ··ã˜ã‚Šã«ç§°è³›ã—ãŸã€‚
[Wikipedia](https://en.wikipedia.org/wiki/The_End_(Beatles_song))ã‚ˆã‚Š
}}

ãã¿ãŒå¾—ã‚‹æ„›ã¨

ä¸ãˆã‚‹æ„›ã¯ã‚¤ã‚³ãƒ¼ãƒ«ãªã‚“ã ã‚ˆ
```

<div style="margin-top:2em"></div>
<nav class="nav-wrapper" aria-label="Page navigation">
  <a rel="prev" href="../../neovim/lsp/copilot-cmp.html" class="nav-chapters icon-button" title="Previous chapter" aria-label="Previous chapter">
    <div class="icon-prev fa-icon"></div>
    copilot-cmp
  </a>
  <a rel="next" href="../../neovim/lsp/fidget.html" class="nav-chapters icon-button" title="Next chapter" aria-label="Next chapter">
    fidget.nvim
    <div class="icon-next fa-icon"></div>
  </a>
</nav>
<div style="margin-top:140em"></div>

å®Ÿã¯ã€ã¾ã è‡ªåˆ†ã§æã„ãŸãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã‚’è¸ç ´ã§ãã¦ãªã„ã‚“ã§ã™ã­ã€œğŸ™€

`copilot`ã¯å½“åˆã®äºˆå®šã«ç„¡ã‹ã£ãŸã‹ã‚‰ã€ã“ã‚Œã§ã¡ã‚‡ã£ã¨è¶³ã‚Šãªããªã£ã¡ã‚ƒã£ãŸã‚ˆã­â—hahağŸ˜†

...ã¾ã‚ã€ãã‚‚ãã‚‚è¡Œãå½“ãŸã‚Šã°ã£ãŸã‚Šã§ãšãƒ¼ã£ã¨ã‚„ã‚‰ã›ã¦ã‚‚ã‚ã€œã¦ã¾ã™ã‘ã©â¤ï¸

ã¶ã£ã¡ã‚ƒã‘ "é †ç•ªé–“é•ãˆãŸãªãƒ¼" ã¨ã¯æ€ã£ã¦ã¾ã™ãŒã€ã¡ã‚ƒã‚“ã¨è½ã¨ã—å‰ã¯ã¤ã‘ã¾ã™ã€‚

ã¤ã¾ã‚Šã€ã‚‚ã†ã¡ã‚‡ã£ã¨ã ã‘ç¶šãâ—

ç¶šãã£ãŸã‚‰ç¶šã... ğŸ… ğŸ¦ ğŸ˜ ğŸ¦’

```admonish quote title=""
Her Majesty{{footnote:
æ­Œè©ã‚’å°‘ã—ã ã‘æ”¹å¤‰ã—ã¦ã¾ã™ãŒã€ã“ã‚Œã¯ã‚‚ã¡ã‚ã‚“ Her Majesty ã§ã™ğŸ˜…
Her Majesty (by [The Beatles](https://en.wikipedia.org/wiki/The_Beatles)): The End ã®14ç§’å¾Œã«åéŒ²ã•ã‚Œã¦ã„ã‚‹ãŒã€
ã‚ªãƒªã‚¸ãƒŠãƒ«ã®ã‚¹ãƒªãƒ¼ãƒ–ã«ã¯è¨˜è¼‰ã•ã‚Œã¦ã„ãªã‹ã£ãŸãŸã‚ã€ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãƒˆãƒ©ãƒƒã‚¯ã®æœ€åˆã®ä¾‹ã ã¨ã‚‚è€ƒãˆã‚‰ã‚Œã¦ã„ã‚‹ã€‚
[Wikipedia](https://en.wikipedia.org/wiki/Her_Majesty_(song))ã‚ˆã‚Š
}}
was a pretty nice girl

But she doesn't have was a lot to say

é™›ä¸‹ã¯ã¨ã¦ã‚‚ç´ æ•µãªå¥³æ€§ã ã£ãŸ

å¤šãã¯èªã‚‰ãªã‹ã£ãŸã‘ã©ã­
```
